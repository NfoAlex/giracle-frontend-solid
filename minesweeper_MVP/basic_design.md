# マインスイーパーMVP 基本設計

- 本書は「ユーザーにどう見え、どう使えるか」を定義する基本設計とする。
- 実装方法、内部状態、ファイル構成は本書の対象外とし、詳細設計で定義する。
- 本書でいう「サービス名」は、サイドバー最上部の「Giracle」文字を指す。

## 1. 提供価値
- チャット利用中に遊べるマインスイーパー体験の提供。
- 既存チャット利用を妨げず、必要なときだけ開いて遊べる。

## 2. 利用シナリオ
1. ユーザーはサイドバー最上部の「Giracle」文字を押下する。
2. マインスイーパーのポップアップが表示される。
3. ユーザーは難易度を選んでプレイする。
4. ユーザーはサービス名、またはポップアップの外を押下してポップアップを閉じ、チャットに戻る。

## 3. 画面・表示要件
### 3.1 起動と終了
- サービス名を押下で表示する。
- 閉じる操作は、
  - サービス名の押下
  - ポップアップの外を押下
  - ポップアップの内から実行可能な導線を用意してそこを押下
- とする。

### 3.2 表示内容
- 難易度選択
- 盤面
- ゲーム状態を示す表示（プレイ中 / 勝利 / 敗北）
- 勝利/敗北時、ゲーム状態を示す表示を押下すると再スタートできる導線

## 4. ゲーム仕様
### 4.1 難易度
- `Easy`: 9 x 9、地雷 10
- `教養`: 30 x 30、地雷 150

### 4.2 操作
- セルを開く操作ができること。
- フラグを立てる/外す操作ができること。
- 難易度変更時は、新しい難易度でゲームを開始する。

### 4.3 ゲーム終了時
- 勝利時は勝利が分かる表示を行う。
- 敗北時は敗北が分かる表示を行う。
- 勝敗後はゲーム状態を示す表示を押下して再スタートできる。

## 5. 非機能目標
- 操作に対して体感で遅延が少ないこと。
- ポップアップ開閉時にチャット画面の操作性を損なわないこと。
- 画面崩れなく利用できること。

## 6. 受け入れ観点
- サービス名押下で表示/非表示が切り替わること。
- ポップアップ外の押下で閉じること。
- ポップアップ内の閉じる導線押下で閉じること。
- マインスイーパーとして1ゲーム完了（勝利または敗北）できること。
- 難易度を2段階から選択できること。
- 勝利/敗北時にゲーム状態を示す表示押下で再スタートできること。

## 7. 詳細設計へ引き継ぐ項目
- ポップアップを閉じた際にゲーム状態を保持するかどうか。
- 採用ライブラリに合わせた内部構造と実装I/F。
